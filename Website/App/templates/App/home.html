{% extends 'App/base.html' %}
{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'App/home.css' %}">

<h1>Brick Economy</h1>
<h2>Created by Logan Baxter</h2>

<section id="container-layer1" class="layers">

    <section id="biggest-trends" class="side-bars">
        <h3>Trending Items</h3>
        <div id="trending-items-container">
            {% for item in trending %}
                <div class="main-item-container">
                {% include 'App/item_container.html' %}
                </div>
            {% endfor %}
        </div>
    </section>

    <section id="about-panel">

        <div id="create-portfolio" class="about-box">
            <h3>Build your own portfolio</h3>
        </div>

        <div id="view-trends" class="about-box">
            <h3>View the latest price trends</h3>
        </div>

        <div id="price-data" class="about-box">
            <h3>View lots of pricing data</h3>
        </div>

        <div id="explore-database" class="about-box">
            <h3>Explore a database with over 33,000 items</h3>
        </div>
    </section>

    <section id="ads"  class="side-bars">
        <h3>Ads</h3>
    </section>

</section>

<section id="container-layer2" class="layers">

    {% if recently_viewed|length != 0 %}

    <section id="recently-viewed">
        <h3>Recently Viewed</h3>
        <div id="recently-viewed-items-container">
            {% for item in recently_viewed %}
            <div class="main-item-container-recently-viewed">
                {% include 'App/item_container.html' %}
            </div>
            {% endfor %}
        </div>
    </section>

    {% endif %}

</section>

<section id="graph-options" class="layers">
    <form action="{% url 'index'  %}" method="POST">
        {% csrf_token %}
        <label for="graph-data-form">Graph Data</label>
        <select onchange="this.form.submit()" name="graph-metric">
            {% for graph_option in graph_options %}
                <option value="{{graph_option.value}}">{{graph_option.text}}</option>
            {% endfor %}
        </select>
    </form>
</section>

<section id="container-layer3" class="layers">

    <section id="popular-items" class="layer3-containers">
        <h3>Popular</h3>
        <div class="items-container">
            {% for item in popular_items %}
            <div class="main-item-container-layer3">
                <div class="item-panel-container">
                    {% include 'App/item_container.html' with show_graph=True %}
                </div>

                <div class="info-container">
                    <p class="view-count">Weekly Views<br>{{item.views}}</p>
                    <p class="weeks-price-trend">Change since {{last_week}} : <br> {{item.change}}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <section id="new-items" class="layer3-containers">
        <h3>New</h3>
        <div class="items-container">
            {% for item in new_items %}
            <div class="main-item-container-layer3">
                <div class="item-panel-container">
                    {% include 'App/item_container.html' with show_graph=True %}
                </div>

                <div class="info-container">
                    <p>Info</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

</section>

{% endblock %}
